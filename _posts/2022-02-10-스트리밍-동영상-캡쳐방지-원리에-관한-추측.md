---
title: 스트리밍 동영상 캡쳐방지 원리에 관한 추측
date: 2022-02-10 02:54:00 +0900
tags: [분석]
---

## 개요

넷플릭스나 프라임 비디오 등등. 여러 동영상 스트리밍 서비스는 강력한 DRM 기술을 적용해 작품의 저작권을 보호한다.

이번에 알았는데, 컴퓨터 화면을 캡쳐하는 것조차 안 된다.

백문이 불여일견. 한번 해 보자.

<img src="https://user-images.githubusercontent.com/88845385/153261406-d81177d4-5ce5-48fd-81df-72ec5836eee7.png" style="zoom: 33%;" />

> 넷플릭스 - 알바뛰는 마왕님 시즌 1, 3화 중 스틸컷

원래는 이렇게 나와야 할 화면이

<img src="https://user-images.githubusercontent.com/88845385/153261673-d81eed71-485b-4610-8663-a725f30997b3.png" style="zoom:33%;" />

바로 이렇게 나오는 것이었다!

완전 신기하다. 모지!?

---

## 고찰

바로 눈앞에 있는 컴퓨터 화면을 캡쳐하지 못한다니, 어떤 원리로 이게 가능한 걸까?

화면 캡쳐를 인식해서 그 순간 검은색으로 만든다거나 하는 말도 안 되는 기술이 적용되어 있는 게 아니라면... 프로세스 실행 순서에 의한 현상이 아닐까?

즉,

1. 검은 화면 refresh
2. 화면 캡쳐 프로그램 실행
3. 동영상 화면 그리기
4. 반복

이런 느낌!

그렇다면, 이러한 연산 순서를 어떻게 강제하는 것인지에 대한 의문이 들지 않을 수 없다.

...소프트웨어를 통한 제어가 아니라 하드웨어적 특성이라면?

...파이프라인?

이라는 추측을 해 봤다. 캡쳐 프로그램은 cpu단에서 돌아가므로 동영상 화면을 그리는 로직을 gpu에서 수행한다면 연산 과정상 동영상 화면을 항상 나중에 그릴 수 있게 되는 것이다.

---

## 검증

확인 방법은 간단하다. __하드웨어 가속을 끄자.__

![하드웨어 가속](https://user-images.githubusercontent.com/88845385/153263107-dfa381cb-a0d9-4fb3-9fb4-ad5fd1bfa6c1.png)

이걸

![끄자](https://user-images.githubusercontent.com/88845385/153263166-faf82260-5f2a-4d34-be8e-3a2a7056047a.png)

이렇게.

그리고 다시 시작한 뒤 캡쳐를 시도해 보면

<img src="https://user-images.githubusercontent.com/88845385/153261406-d81177d4-5ce5-48fd-81df-72ec5836eee7.png" style="zoom: 33%;" />

잘 된다. 이쯤 되면 포스트 상단의 _'이렇게 나와야 되는데'_ 라며 올린 캡쳐 이미지도 같은 방법으로 찍은 것임을 알아챘을 것이다.

---

## 결론

비록 원하는 결과를 얻었으나 __원래의 추측이 타당하다고 단정지을 수는 없다.__ 내가 미처 생각하지 못한 다른 요인이 작용했을 수도 있으니.

사실 위의 말대로 생각하면 어째서 자막은 정상적으로 캡쳐되는지 등등, 설명하기 어려운 부분도 많다.

관심이 생기면 더 깊이 알아봐야겠다.