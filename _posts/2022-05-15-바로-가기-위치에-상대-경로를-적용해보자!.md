---
title: 바로 가기 위치에 상대 경로를 적용해보자!
date: 2022-05-15 03:52:00 +0900
tags: [윈도우, 응용]
---

## 개요

윈도우의 바로 가기 기능을 활용하면 복잡한 경로의 프로그램을 빠르게 실행할 수 있다. 그러나 원래 프로그램의 경로가 바뀌는 경우 바로가기는 프로그램의 위치를 찾지 못하게 될 수 있다.

일반적으로 이를 신경쓸 일은 많지 않지만, 이동식 드라이브에 저장된 프로그램은 문제가 될 수 있다. USB를 연결하면 드라이브 경로를 자동으로 지정하기 때문에 실행 환경에 따라 프로그램의 경로가 바뀌어 버리는 것이다.

이 문제를 해결하기 위해 바로가기에 상대 경로를 사용하는 방법에 대해 찾아보았다.

---

## cmd 이용하기

바로가기와 함께 D드라이브에 위치한 `text.txt`를 실행하고 싶다고 하자. 일반적인 바로가기 설정은 아래와 같을 것이다.

<img src="https://user-images.githubusercontent.com/88845385/168445099-316afcc5-ca11-4a20-b514-c52a2caef25f.png" width="40%" height="40%"/>

절대경로를 제거해 보자. 다음과 같이 바꾼다.

<img src="https://user-images.githubusercontent.com/88845385/168445167-21019b17-1093-4231-bbd3-f48627405fcf.png" width="40%" height="40%"/>

시작 위치가 비워져 있기 때문에 cmd는 바로가기가 위치한 경로에서 실행되며, `start text.txt` 명령을 실행하고 cmd는 꺼진다. 단점이라면 cmd 창이 잠깐 켜졌다가 닫히는 것이 보인다는 점.

---

## 윈도우 탐색기 이용하기

조금 트릭에 가까운 방법이다. 결과를 먼저 보자.

<img src="https://user-images.githubusercontent.com/88845385/168445253-75af4415-ab0b-4988-8de5-f99a6cfd8a1c.png" width="40%" height="40%"/>

`explorer.exe`에 인자로 파일 이름을 넘겨주면 현재 위치에서 해당 파일을 찾아 실행하게 되는 듯하다. 정확한 원리는 찾지 못했다. 이 방법을 사용하면 깔끔하게 실행할 수 있다.

참고로, C드라이브 경로를 입력하는 것조차 마음에 들지 않는다면 아래처럼 작성할 수도 있다.

<img src="https://user-images.githubusercontent.com/88845385/168445303-c43cf7ac-daef-443d-8434-25732c6760e1.png" width="40%" height="40%"/>

`%windir%`는 윈도우가 설치된 경로를 나타낸다. 그러나 윈도우는 어지간하면 `C:\Windows`에 설치될 것이므로 그리 중요하지는 않아 보인다.

---

## 배치 파일 이용하기

어떻게 보면 가장 정석에 가까운 방법이다. 바로가기 파일 대신 `.bat`확장자 파일을 사용한다. `%CD%`가 현재 디렉토리를 의미하므로 다음과 같은 명령을 작성할 수 있다.

```powershell
start %CD%\text.txt
```

단점이라면 일반인에게 배치 파일이 생소하다는 것 정도...?

---

## 여담

언젠가 한 번은 쓸 일이 있을 것 같다. 흠.